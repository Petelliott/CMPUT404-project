{% extends "base.html" %}
{% block title %}PolarBear -- Postpage{% endblock %}
{% block content %}


<form action="{% url 'post' %}" method="post" enctype="multipart/form-data" >
  {% csrf_token %}
  {{ form.as_p }}
  <input type="submit" value="Post!">
</form>

<script>
	// This purpose of this function is to
	// hide image field and display content field when we choose to use markdown/plaintext
	// and hide content and display image field when we use image

	function autohide(){
		console.log(document.getElementById('id_content_type').selectedIndex)

		if (document.getElementById('id_content_type').selectedIndex==0 || document.getElementById('id_content_type').selectedIndex==1){
			//hide image field and display content field 
			document.getElementsByTagName('p')[4].style.display='';
			document.getElementsByTagName('p')[5].style.display='none';
		} else {
			// hide content and display image field
			document.getElementsByTagName('p')[4].style.display='none';
			document.getElementsByTagName('p')[5].style.display='';
		}
	}
	console.log(document.getElementById('id_content_type').selectedIndex)
	autohide()
	document.getElementById('id_content_type').onchange = autohide;
</script>

{% endblock %}
